"use strict";(self.webpackChunkcodrops_scroll_rig_tutorial=self.webpackChunkcodrops_scroll_rig_tutorial||[]).push([[250],{250:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var i=o(26),n=o(43),s=o(408),r=o(201),a=o(309),l=o(717),c=o(245),u=o(355),d=(o(368),o(904)),h=o(268),m=o(579);function p(e){let{width:t,height:o,radius:i,children:r,...a}=e;const{geometry:l,heightMin:c,heightMax:u}=(0,n.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const i=32,n=i,r=i/(e/t),a=new s.PlaneGeometry(e,t,n,r);let l=1/0,c=-1/0;const u=Math.sqrt((e/2)**2+(t/2)**2);o=Math.max(u,o);const d=a.attributes.position;for(let s=0;s<d.count;s++){const e=d.getX(s),t=d.getY(s),i=Math.sqrt(e*e+t*t),n=Math.sqrt(Math.max(o**2-i**2,0));l=Math.min(n,l),c=Math.max(n,c),d.setZ(s,n)}return{geometry:a,heightMin:l,heightMax:c}}(t,o,i)),[t,o,i]);return(0,m.jsx)("group",{...a,children:(0,m.jsx)("mesh",{geometry:l,receiveShadow:!0,castShadow:!0,"position-z":-u,children:r})})}const x=e=>{let{position:t=[-8,0,0],rotation:o=[0,-1.64,0],scale:i=[-6,6,6],srcDir:n="./images/descriptionImages/CafeValvet.png"}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("ambientLight",{intensity:2}),(0,m.jsx)(g,{src:n,position:t,rotation:o,scale:i})]})};function g(e){let{src:t="./images/descriptionImages/CafeValvet.png",rotation:o,scale:i,position:n}=e;const a=(0,r.z)("./images/Coast_View_Paranomic-1.webp");return(0,m.jsx)("group",{position:n,scale:i,rotation:o,children:(0,m.jsx)(p,{width:5,height:2.8125,radius:4,children:(0,m.jsx)("meshPhongMaterial",{side:s.DoubleSide,map:a,emissive:"white",emissiveMap:a,emissiveIntensity:.5})})})}const j=e=>{let{srcDir:t=""}=e;const o=(0,c.p)(t);(0,u.f)(o.animations,o.scene);return(0,m.jsx)("primitive",{object:o.scene,children:(0,m.jsx)("meshBasicMaterial",{color:"white",emissive:"red",emissiveIntensity:5,side:s.DoubleSide})})},b=e=>{let{buttonName:t="Click to see Outdoor",buttonPosition:o=[-10,0,-5],closeButtonPosition:i=[8,12,-12],rotation:s=[0,-1.64,0],scale:r=[-6,6,6],imgSrc:l=""}=e;const[c,u]=(0,n.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("mesh",{position:o,children:[!c&&(0,m.jsx)(a.E,{children:(0,m.jsx)("div",{className:"customButton",onClick:()=>u(!0),children:t})}),c&&(0,m.jsx)(a.E,{position:i,children:(0,m.jsx)("div",{className:"worldSpaceClickableButton",style:{fontSize:"30px",zIndex:1},onClick:()=>u(!1),children:"X"})})]}),c&&(0,m.jsx)(x,{srcDir:l,position:o,rotation:s,scale:r})]})},f=e=>{let{buttonName:t="Add Name",buttonPosition:o=[-10,0,-5],closeButtonPosition:i=[8,12,-12],rotation:s=[0,-1.64,0],scale:r=[-6,6,6],imgSrc:l="",redirName:c=""}=e;const{data:u,updateDropPhysics:d,updateRenderingSpace:p}=(0,n.useContext)(h.Y);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("mesh",{position:o,onClick:function(){p(c)},children:(0,m.jsx)(a.E,{children:(0,m.jsx)("div",{onClick:function(){p(c)},style:{zIndex:2},children:(0,m.jsx)("h1",{className:"worldSpaceClickableButton",children:t})})})})})};c.p.preload("/glb/Homie_Optimized.glb");var M=o(894),S=o(984),y=o(964),v=o(666),C=o(921),P=o.n(C);const k=1.61803398875;const w=e=>"./textures/img".concat(e,".jpg"),I=[{position:[0,0,1.5],rotation:[0,0,0],url:w(3)},{position:[-.8,0,-.6],rotation:[0,0,0],url:w(10)},{position:[.8,0,-.6],rotation:[0,0,0],url:w(6)},{position:[-1.75,0,.25],rotation:[0,Math.PI/2.5,0],url:w(7)},{position:[-2.15,0,1.5],rotation:[0,Math.PI/2.5,0],url:w(6)},{position:[-2,0,2.75],rotation:[0,Math.PI/2.5,0],url:w(4)},{position:[1.75,0,.25],rotation:[0,-Math.PI/2.5,0],url:w(10)},{position:[2.15,0,1.5],rotation:[0,-Math.PI/2.5,0],url:w(7)},{position:[2,0,2.75],rotation:[0,-Math.PI/2.5,0],url:w(8)}],B=e=>{let{onClicked:t=(()=>{})}=e;return(0,m.jsx)("group",{position:[0,-.5,0],children:(0,m.jsx)(N,{images:I,onClicked:t})})};function N(e){let{images:t,q:o=new s.Quaternion,p:i=new s.Vector3,onClicked:r=(()=>{})}=e;const a=(0,n.useRef)(),l=(0,n.useRef)(),[,c]=(0,v.lq)("/item/:id"),[,u]=(0,v.zy)();return(0,n.useEffect)((()=>{l.current=a.current.getObjectByName(null===c||void 0===c?void 0:c.id),l.current?(l.current.parent.updateWorldMatrix(!0,!0),l.current.parent.localToWorld(i.set(0,k/2,1.25))):(i.set(0,0,5.5),o.identity())})),(0,m.jsx)("group",{ref:a,onClick:e=>{e.stopPropagation(),e.object.parent.updateWorldMatrix(!0,!0),e.object.parent.localToWorld(new s.Vector3(0,k/2,1.25)),r(e.point)},children:t.map((e=>(0,m.jsx)(z,{...e},e.url)))})}function z(e){let{url:t,c:o=new s.Color,...i}=e;const r=(0,n.useRef)(),a=(0,n.useRef)(),[,l]=(0,v.lq)("/item/:id"),[c,u]=(0,n.useState)(!1),h=P()(t),p=(null===l||void 0===l?void 0:l.id)===h;return(0,S.o)(c),(0,M.A)(((e,t)=>{d.cz.damp3(r.current.scale,[.85*(!p&&c?.85:1),.9*(!p&&c?.905:1),1],.1,t),d.cz.dampC(a.current.material.color,c?"orange":"white",.1,t)})),(0,m.jsx)("group",{...i,children:(0,m.jsxs)("mesh",{name:h,onPointerOver:e=>(e.stopPropagation(),u(!0)),onPointerOut:()=>u(!1),scale:[1,k,.05],position:[0,k/2,0],children:[(0,m.jsx)("boxGeometry",{}),(0,m.jsx)("meshStandardMaterial",{color:"#151515",metalness:.5,roughness:.5,envMapIntensity:2}),(0,m.jsxs)("mesh",{ref:a,raycast:()=>null,scale:[.9,.93,.9],position:[0,0,.2],children:[(0,m.jsx)("boxGeometry",{}),(0,m.jsx)("meshBasicMaterial",{toneMapped:!1,fog:!1})]}),(0,m.jsx)(y._,{raycast:()=>null,ref:r,position:[0,0,.7],url:t})]})})}document.getElementById("instructions");const _=()=>{const[e,t]=(0,n.useState)(0),o=(0,n.useRef)(),[i,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!1),[g,M]=(0,n.useState)(!0),[S,y]=(0,n.useState)(0),v=(0,r.z)("./images/LivingRoom.png"),C=(0,n.useRef)(),{data:P}=(0,n.useContext)(h.Y);(0,n.useEffect)((()=>{C.current.saveState()}),[]);const k=e=>{let{buttonName:t="Back Btn",buttonPosition:o=[0,0,0]}=e;return(0,m.jsx)("mesh",{position:o,scale:2,children:(0,m.jsx)(a.E,{children:(0,m.jsx)("div",{onClick:function(){"LivingRoom"===P.RenderSpace&&(C.current.reset(),I([0,2,0]))},style:{zIndex:2},children:(0,m.jsx)("h1",{className:"worldSpaceClickableButton",children:t})})})})},[w,I]=(0,n.useState)([0,2,0]);(0,n.useState)([0,0,0]),new s.Vector3([0,0,0]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.N,{enableZoom:!1,enablePan:!1,target:w,maxDistance:2,ref:C}),(0,m.jsx)(n.Suspense,{fallback:(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("mesh",{children:[(0,m.jsx)("boxGeometry",{}),(0,m.jsx)("meshBasicMaterial",{color:"red"})]})}),children:(0,m.jsxs)("mesh",{scale:[-90,90,90],ref:o,children:[(0,m.jsx)("sphereGeometry",{}),(0,m.jsx)("meshBasicMaterial",{color:"white",side:s.DoubleSide,map:v})]})}),(0,m.jsx)(b,{buttonName:"Seaside View",buttonPosition:[20,0,0],imgSrc:"./images/buttons/eye.png",rotation:[0,.5*Math.PI,0]}),(0,m.jsx)(f,{imgSrc:"./images/buttons/back to clouds.png",buttonName:"<",buttonPosition:[-7,4,-7],redirName:"CloudSpace"}),(0,m.jsx)(k,{buttonName:"X",buttonPosition:[0,1.2,0]}),(0,m.jsx)("group",{position:[-10,2,0],rotation:[0,.5*Math.PI,0],children:(0,m.jsx)(B,{onClicked:e=>{I([e.x,2.2,e.z]),console.log(e)}})}),(0,m.jsx)("group",{position:[-0,3,-20],children:(0,m.jsx)(R,{})}),(0,m.jsx)("group",{position:[-3.5,2,5],rotation:[0,.5*Math.PI,0],children:(0,m.jsx)(j,{srcDir:"./Models/Description2.glb"})}),(0,m.jsx)("ambientLight",{intensity:3})]})};function R(e){let{props:t,scrollState:o}=e;const i=(0,n.useRef)(),{nodes:s,materials:r,animations:a}=(0,c.p)("/glb/boy_float.glb"),{actions:l,ref:d,names:h}=(0,u.f)(a,i);function p(e){l[e].timeScale=1.2,l[e].reset().fadeIn(.5).play()}return(0,n.useEffect)((()=>{h.forEach(p)}),[]),(0,m.jsx)("group",{ref:i,...t,position:[2,-2.5,10],dispose:null,children:(0,m.jsx)("group",{name:"Scene",children:(0,m.jsx)("group",{name:"BezierCircle",children:(0,m.jsxs)("group",{name:"Armature",rotation:[Math.PI/2,0,0],scale:.025,children:[(0,m.jsx)("skinnedMesh",{name:"Ch09",geometry:s.Ch09.geometry,material:r["Ch09_body.001"],skeleton:s.Ch09.skeleton}),(0,m.jsx)("primitive",{object:s.mixamorig6Hips})]})})})})}c.p.preload("/glb/boy_float.glb");const D=()=>(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.Hl,{camera:{position:[2,3,-2],fov:60,near:.1,far:100,zoom:.7},children:(0,m.jsx)(_,{})})})}}]);
//# sourceMappingURL=250.46310a86.chunk.js.map